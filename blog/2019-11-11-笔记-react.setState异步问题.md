

### react.setState异步问题

react用的少，之前一直不知道setState是异步执行的。。。被迫发现的。

这两天再写一个星期的时间选择组件,需要手动拖拽选择时间段，花了两小时搞完了。但是测试发现不够灵敏。需要改，在改的过程中发现很多的问题，比如鼠标的拖动方向考虑的不全问题导致，拖拽为一条直线时，无法选择。第二个问题就涉及到标题讲的异步问题。选择框在的范围很小时(范围在半个小时以内时，或者说点击的时候鼠标抖动了一下这种情况) 会导致数据渲染不到state里面去。试了很多次一直不能渲染到状态里面去，打印数据发现，数据展开后和展开前的状态不一样，，，，

后面的解决方案是：对状态数组进行深拷贝，然后进行相应的赋值操作，最后在setTimeOut里进行setState.


